
.. _standardBankAPI:

Standard Bank API
=================

The standard bank API can be found at a public web address of every bank on the network. It's used to request transactions, get your transaction history, get or create subscriptions and more. Read the `entity table`_ to get the endpoint which is, for example, 'connect.bank.com'.


.. _apiAuthorisation:

Authorisation
=============

To authenticate, the device_ sends:
- The bank assigned account ID it's using
- A device ID which is a piece of random text assigned by the bank
- A session token (which the device generates)
- A signature of the session token and device ID, created using the private key
- A signature of the request it's making, created using the private key

A device_ must be authorised to use a particular account. 

.. _device:

Device
======

Devices are things like phones, laptops, desktops or something more unexpected like a car or fridge. They store a special private key which is used to authenticate. Note that the private key never leaves the device; the private key and the public key are generated by the device. Each registered device has priviledges_.

.. _priviledges:

Priviledges
===========

You might want certain devices to be restricted, so this is where priviledges come in. For example, some devices may only need a read-only view of your account so they can analyse your transaction history. Others can be restricted to certain product categories (For example, a car can only purchase fuel).

.. _deviceJoin:

Device Joining
==============

In order for a device to be able to use an account, it must first 'join'. The join process works like this:

- The device generates its new key pair (public key and private key)
- It sends the public key, a name , it's priviledge requests and optionally the account that it would like to access.
- The API responds with the new device ID. From this point onwards, neither the public or private keys are sent.
- If an account ID was given, the bank tells the owner of the account that a join has been requested. This can happen in a variety of ways depending on the banks own choice, but it will usually be through some other joined device or a second channel method like an email/ sms/ phone call.

The lack of passwords here allows for much stronger security and a mechanism for 'unattended' objects like a self-driving car or a fridge to authenticate.
